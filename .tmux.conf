unbind C-b
set -g prefix C-s
bind-key -r C-s send-prefix

bind-key r source-file ~/.tmux.conf \; display-message "~/.tmux.conf reloaded!!!"
bind-key o split-window -v
bind-key i split-window -h

# Smart pane switching with awareness of vim splits
# See: https://github.com/christoomey/vim-tmux-navigator
is_vim='echo "#{pane_current_command}" | grep -iqE "(^|\/)g?(view|n?vim?x?)(diff)?$"'
bind -n C-h if-shell "$is_vim" "send-keys C-h" "select-pane -L"
bind -n C-j if-shell "$is_vim" "send-keys C-j" "select-pane -D"
bind -n C-k if-shell "$is_vim" "send-keys C-k" "select-pane -U"
bind -n C-l if-shell "$is_vim" "send-keys C-l" "select-pane -R"
bind -n C-\ if-shell "$is_vim" "send-keys C-\\" "select-pane -l"

#set repeat-time 1000

bind -r h resize-pane -L 5
bind -r j resize-pane -D 5
bind -r k resize-pane -U 5
bind -r l resize-pane -R 5

# navigate windows
bind -r [ select-window -t :-
bind -r ] select-window -t :+

set-option -g default-terminal "screen-256color"
set-option -g status-keys 'emacs'

set -g status-bg '#002B36'
set -g status-fg '#586e75'

set -g status-left-length 50
set -g status-right " #(battery -t)  #(date '+%a, %b %d - %I:%M') Yohan "

set -g base-index 1
set -g pane-base-index 1

set -sg escape-time 1

#scroll up and down
set -g mode-mouse on
set -g mouse-resize-pane on
set -g mouse-select-pane on
set -g mouse-select-window on

#
## pane layouts, defaults
#
# C-a M-1        switch to even-horizontal layout
# C-a M-2        switch to even-vertical layout
# C-a M-3        switch to main-horizontal layout
# C-a M-4        switch to main-vertical layout
# C-a M-5        switch to tiled layout
# C-a space      switch to the next layout

bind -r 1 select-layout even-vertical # monitor mode
bind -r 2 select-layout b9c1,236x68,0,0{80x68,0,0[80x34,0,0,42,80x33,0,35,56],155x68,81,0,43} # laptop mode, need 3 panes
bind -r 3 select-layout b3fc,364x100,0,0{144x100,0,0[144x50,0,0,0,144x24,0,51,37,144x24,0,76,47],219x100,145,0,45}

# need this option to launch sublime symlink etc.
set-option -g default-command "reattach-to-user-namespace -l zsh"

#
#### COLOUR (Solarized dark)
#

# default statusbar colors
set-option -g status-bg black #base02
set-option -g status-fg yellow #yellow
set-option -g status-attr default

# default window title colors
set-window-option -g window-status-fg brightblue #base0
set-window-option -g window-status-bg default
#set-window-option -g window-status-attr dim

# active window title colors
set-window-option -g window-status-current-fg white #orange
set-window-option -g window-status-current-bg default
#set-window-option -g window-status-current-attr bright

# pane border
set-option -g pane-border-fg black #base02
set-option -g pane-active-border-fg white #base01

# message text
set-option -g message-bg black #base02
set-option -g message-fg white #orange

# pane number display
set-option -g display-panes-active-colour blue #blue
set-option -g display-panes-colour white #orange

# clock
set-window-option -g clock-mode-colour green #green

# bell
set-window-option -g window-status-bell-style fg=black,bg=red #base02, red
